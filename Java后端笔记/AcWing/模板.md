# 快速排序模板

```java
    public static void quickSort(int[] arr, int l, int r) {
        if (l >= r) {
            return;
        }

        int x = arr[l + ((r - l) >> 1)], i = l - 1, j = r + 1;

        while (i < j) {
            while (arr[++i] < x);
            while (arr[--j] > x);

            if (i < j) {
                int temp = arr[i];
                arr[i] = arr[j];
                arr[j] = temp;
            }
        }

        quickSort(arr, l, j);
        quickSort(arr, j + 1, r);
   	}
```

# 归并排序模板

```java
private static void mergeSort(int[] arr, int l, int r) {
    if (l >= r) {
        return;
    }

    int mid = l + ((r - l) >> 1);

    mergeSort(arr, l, mid);
    mergeSort(arr, mid + 1, r);

    int[] temp = new int[r - l + 1];
    int i = l, j = mid + 1, k = 0;

    while (i <= mid && j <= r) {
        if (arr[i] < arr[j]) {
            temp[k++] = arr[i++];
        } else {
            temp[k++] = arr[j++];
        }
    }

    while (i <= mid) {
        temp[k++] = arr[i++];
    }

    while (j <= r) {
        temp[k++] = arr[j++];
    }

    for (i = 0, j = l; j <= r; ++i, ++j) {
        arr[j] = temp[i];
    }
}
```

# 二分法模板

```java
//向下取整
while (l < r) {
    int mid = l + ((r - l) >> 1);
    if (check() == true) {
        r = mid;
    } else {
        l = mid + 1;
    }
}
//向上取整
while (l < r) {
    int mid = l + ((r - l) >> 1) + 1;
    if (check() == true) {
        l = mid;
    } else {
        r = mid - 1;
    }
}
```

# 高精度模板

* 高精度加法

  ```java
  private static List<Integer> add(List<Integer> a, List<Integer> b) {
          if (a.size() < b.size()) {
              return add(b, a);
          }
  
          List<Integer> c = new ArrayList<>();
  
          int t = 0;
          for (int i = 0; i < a.size(); ++i) {
              t += a.get(i);
              if (i < b.size()) {
                  t += b.get(i);
              }
              c.add(t % 10);
              t /= 10;
          }
  
          if (t == 1) {
              c.add(1);
          }
  
          return c;
      }
  ```

* 高精度减法

  ```java
  private static List<Integer> sub(List<Integer> a, List<Integer> b) {
          List<Integer> c = new ArrayList<>();
  
          int t = 0;
          for (int i = 0; i < a.size(); ++i) {
              t = a.get(i) - t;
              if (i < b.size()) {
                  t -= b.get(i);
              }
              c.add((t + 10) % 10);
              if (t >= 0) {
                  t = 0;
              } else {
                  t = 1;
              }
          }
  
          while (c.size() > 1 && c.get(c.size() - 1) == 0) {
              c.remove(c.size() - 1);
          }
  
          return c;
      }
  ```

* 高精度乘法

  ```java
  private static List<Integer> mul(List<Integer> a, int b) {
          List<Integer> c = new ArrayList<>();
  
          for (int i = 0, t = 0; i < a.size() || t != 0; ++i) {
              if (i < a.size()) {
                  t += a.get(i) * b;
              }
              c.add(t % 10);
              t /= 10;
          }
  
          return c;
      }
  }
  ```

* 高精度除法

  ```java
  private static void div(List<Integer> a, int b) {
          List<Integer> c = new ArrayList<>();
  
          int t = 0;
          for (int i = a.size() - 1; i >= 0; --i) {
              t = t * 10 + a.get(i);
              c.add(t / b);
              t %= b;
          }
  
          Collections.reverse(c);
  
          while (c.size() > 1 && c.get(c.size() - 1) == 0) {
              c.remove(c.size() -1);
          }
  
          for (int i = c.size() - 1; i >= 0; --i) {
              System.out.print(c.get(i));
          }
          System.out.println();
          System.out.println(t);
      }
  ```


# 前缀和模板

* 一维前缀和

  ```java
  public static void main(String[] args) throws IOException {
          BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
  
          String[] str1 = reader.readLine().split(" ");
          String[] str2 = reader.readLine().split(" ");
          int[] input = new int[Integer.parseInt(str1[0])];
          for (int i = 0; i < Integer.parseInt(str1[0]); ++i) {
              input[i] = Integer.parseInt(str2[i]);
          }
  
          int[] arr = new int[input.length + 1];
          arr[0] = 0;
  
          for (int i = 1; i < arr.length; ++i) {
              arr[i] = arr[i - 1] + input[i - 1];
          }
          
          for (int i = 0; i < Integer.parseInt(str1[1]); ++i) {
              String[] str3 = reader.readLine().split(" ");
              System.out.println(arr[Integer.parseInt(str3[1])] - arr[Integer.parseInt(str3[0]) - 1]);
          }
      }
  ```

* 二维前缀和

  ```java
  public static void main(String[] args) throws IOException {
          BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
  
          String[] str1 = reader.readLine().split(" ");
          int n = Integer.parseInt(str1[0]);
          int m = Integer.parseInt(str1[1]);
          int length = Integer.parseInt(str1[2]);
  
          int[][] arr = new int[n + 1][m + 1];
          for (int i = 1; i <= n; ++i) {
              String[] str2 = reader.readLine().split(" ");
              for (int j = 1; j <= m; ++j) {
                  arr[i][j] = Integer.parseInt(str2[j - 1]);
              }
          }
  
          int[][] res = new int[n + 1][m + 1];
          for (int i = 1; i <= n; ++i) {
              for (int j = 1; j <= m; ++j) {
                  res[i][j] = res[i - 1][j] + res[i][j - 1] - res[i - 1][j - 1] + arr[i][j];
              }
          }
  
          while (length-- != 0) {
              String[] str3 = reader.readLine().split(" ");
              int x1 = Integer.parseInt(str3[0]);
              int y1 = Integer.parseInt(str3[1]);
              int x2 = Integer.parseInt(str3[2]);
              int y2 = Integer.parseInt(str3[3]);
              System.out.println(res[x2][y2] - res[x1 - 1][y2] - res[x2][y1 - 1] + res[x1 - 1][y1 - 1]);
          }
      }
  ```

# 差分模板

* 一维差分

  ```java
  public static void main(String[] args) throws IOException {
          BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
  
          String[] str1 = reader.readLine().split(" ");
          int n = Integer.parseInt(str1[0]);
          int m = Integer.parseInt(str1[1]);
          int[] arr = new int[n + 1];
          String[] str2 = reader.readLine().split(" ");
          for (int i = 1; i <= n; ++i) {
              arr[i] = Integer.parseInt(str2[i - 1]);
          }
          int[] b = new int[n + 2];
  
          for (int i = 1; i <= n; ++i) {
              insert(b, i, i, arr[i]);
          }
  
          for (int i = 1; i <= m; ++i) {
              String[] str3 = reader.readLine().split(" ");
              int l = Integer.parseInt(str3[0]);
              int r = Integer.parseInt(str3[1]);
              int x = Integer.parseInt(str3[2]);
              insert(b, l, r, x);
          }
  
          for (int i = 1; i <= n; ++i) {
              b[i] += b[i - 1];
          }
  
          for (int i = 1; i <= n; ++i) {
              System.out.print(b[i] + " ");
          }
      }
  
      public static void insert(int[] b, int l, int r, int x) {
          b[l] += x;
          b[r + 1] -= x;
      }
  ```

* 二维差分

  ```java
  public static void main(String[] args) throws IOException {
          BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
  
          String[] str1 = reader.readLine().split(" ");
          int n = Integer.parseInt(str1[0]);
          int m = Integer.parseInt(str1[1]);
          int l = Integer.parseInt(str1[2]);
  
          int[][] a = new int[n + 1][m + 1];
          int[][] b = new int[n + 2][m + 2];
  
          for (int i = 1; i <= n; ++i) {
              String[] str2 = reader.readLine().split(" ");
              for (int j = 1; j <= m; ++j) {
                  a[i][j] = Integer.parseInt(str2[j - 1]);
              }
          }
  
          for (int i = 1; i <= n; ++i) {
              for (int j = 1; j <= m; ++j) {
                  insert(b, i, j, i, j, a[i][j]);
              }
          }
  
          for (int i = 1; i <= l; ++i) {
              String[] str3 = reader.readLine().split(" ");
              int x1 = Integer.parseInt(str3[0]);
              int y1 = Integer.parseInt(str3[1]);
              int x2 = Integer.parseInt(str3[2]);
              int y2 = Integer.parseInt(str3[3]);
              int x = Integer.parseInt(str3[4]);
              insert(b, x1, y1, x2, y2, x);
          }
  
          for (int i = 1; i <= n; ++i) {
              for (int j = 1; j <= m; ++j) {
                  b[i][j] += b[i - 1][j] + b[i][j - 1] - b[i - 1][j - 1];
              }
          }
  
          for (int i = 1; i <= n; ++i) {
              for (int j = 1; j <=m; ++j) {
                  System.out.print(b[i][j] + " ");
              }
              System.out.println();
          }
      }
  
      public static void insert(int[][] b, int x1, int y1, int x2, int y2, int x) {
          b[x1][y1] += x;
          b[x2 + 1][y1] -= x;
          b[x1][y2 + 1] -= x;
          b[x2 + 1][y2 + 1] += x;
      }
  ```

  