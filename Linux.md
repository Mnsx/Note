# 基础篇

## Linux介绍

linux在服务器领域的应用是最强的

linux免费、稳定、高效等特点在这里得到了很好的表现，尤其在一些高端领域尤为广泛

linux运行稳定、对网络的良好支持性、低成本，且可以根据需要进行软件裁剪，内核最小可以达到几百KB

## 安装VM和Linux

跳过

## 网络连接的三种模式

1. 桥接模式：虚拟系统可以和外部系统通讯，但是容易造成IP冲突
2. NAT模式：网络地址转换模式，虚拟系统可以和外部系统通讯，不造成IP冲突
3. 主机模式：独立的系统

## 克隆虚拟机

* 直接拷贝一份安装好的虚拟机文件
* 使用VMWare克隆操作，注意，克隆时，需要先关闭linux系统

## 虚拟机快照

如果使用虚拟机系统的时候，想要回到原先的某一个状态，VMWare提供了快照管理的功能

## 虚拟机移除和删除

虚拟系统安装好了之后，他的本子就是文件。因此虚拟系统的迁移很方便，可以将安装好的虚拟系统文件夹整体拷贝到另外的位置使用。删除可以使用，VMWare进行移除，再点击菜单——》从磁盘删除即可，或者直接手动删除虚拟系统对应的文件夹即可

## 安装VMTools

1. VMTools安装后，可以让我们在windows下更好的管理vm虚拟机
2. 可以设置windows和CentOS的共享文件夹

安装步骤跳过...

## Linux目录结构

1. Linux的文件系统时采用级层式的树状目录结构，在此结构中的最上层是根目录“/”，然后在此目录下再创建其他的目录
2. 在Linux世界里，一切皆文件

3. 具体目录结构

   * /bin【常用】（/usr/bin、/usr/local/bin）

     是Binary的缩写，这个目录存放最经常使用的命令

   * /sbin（/usr/sbin、/usr/local/sbin）

     s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序

   * /home【常用】

     存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名

   * /root【常用】

     该目录为系统管理员，也称作超级权限这的用户主目录

   * /lib

     系统开机所需要的最基础的动态链接共享库，起作用类似于windows里的DLL文件，几乎所有的应用程序都需要使用这些共享库

   * /lost+found 

     这个目录一般情况是空的，当系统非法关机后，这里就存放了一些文件

   * /etc 【常用】

     所有的系统管理所需要的配置文件和子目录

   * /usr【常用】

     这是一个非常重要的文件，用户的很多应用层程序和文件都放在目录下，类似于windows下的programfiles目录

   * /boot【常用】

     存放的是启动Linux时使用的一些核心文件，包括一些链接文件以及镜像文件

   * /proc 【不能动】

     这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统的信息

   * /srv【不能动】

     service缩写，该目录存放一些服务启动后需要提取的数据

   * /sys【不能动】

     这是linux2.6内核的一个很大的改变。该目录下安装了2.6内核中新出现的一个文件系统sysfs

   * /tmp

     这个目录是用来存放一些临时文件

   * /dev

     类似于windows的设备管理器，把所有的硬件用文件的形式存储

     /media【常用】linux系统会自动识别一些设备，当识别后，linux会把识别的设别挂载到这个目录下

   * /mnt【常用】

     系统提供该目录是为了让用户临时挂载个别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里的内容了

   * /opt

     这是给主机额外安装软件所摆放的目录

   * /usr/local【常用】

     这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序

   * /var【常用】

     这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下，日志文件之类的

   * /selinux【security-enhanced linux】

     SELinux是一种安全子系统，它能够控制程序只能访问特定文件，又三种工作模式，可以自行设置

# 实操篇

## 远程开发

**Xshell**

* 说明：Xshell是目前最好的远程登录到Linux操作的软件，流畅的速度并且完美解决了中文乱码的问题

* Xshell是一个强大的安全终端模拟软件，它支持SSH1，SSH2，以及Microsoft Widows平台的TELNET协议
* Xshell可以在windows界面下用来访问远端不同系统下的服务器，从而比较好的达到了远程控制终端的目的

**Xftp**

* 是一个基于Windows平台的功能强大的SFTP、FTP文件传输软件，使用了Xftp以后，windows用户能安全地在UNIX/Linux和Windows PC之间传输文件

## vi和vim的基本介绍

Linux系统会内置vi文本编辑器

Vim具有程序编辑的功能，可以看作是vi的增强版本，可以主动的以字体颜色辨别语法的正确性，方便程序设计。代码补全、编译、错误跳转等方便变成的功能特别丰富

* 正常模式

  以vim打开一个档案就直接进行一般模式了（这是默认的模式）。在这个模式，你可以使用【上下左右】按键来移动光标，你可以使用【删除字符】或【删除整行】来处理档案内容，也可以使用【复制、粘贴】来处理你的文件数据

* 插入模式

  按下i，I，o，O，a，A，r，R等任何一个字母之后才会进入编辑模式，一般来说按i即可

* 命令行模式

  在这个模式当中，可以提供你相关指令，完成读取、存盘、替换、离开vim、显示行号等的动作则是再次模式中达成

**常用操作**——摆烂

## 开机、关机

* 基本操作

  | 命令操作        | 简介                 |
  | --------------- | -------------------- |
  | shutdown -h now | 立即进行关机         |
  | shutdown -h 1   | 1分钟之后关机        |
  | shutdown -r now | 重启计算机           |
  | halt            | 关机                 |
  | reboot          | 重启                 |
  | sync            | 把内存数据同步到磁盘 |

## 用户登录与注销

* 基本介绍
  1. 登录时尽量少使用root账号登录，因为它是系统管理员，最大的权限，避免操作事务。可以利用普通用户登录，登录后在使用`su 用户名`命令来切换程系统管理员身份
  2. 在提示符下输入logout即可注销用户
* 使用细节
  1. logout注销指令在图形运行级别无效，在运行级别3下有效

## 用户管理

 Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统

* 添加用户

  * 基本语法

    `useradd 用户名`

  * 细节说明

    当创建用户成功后，会自动创建和用户名同名的家目录

    也可以通过`useradd -d`指定目录 指定目录 新的用户名

* 指定修改密码

  * 基本语法

    `passwd 用户名`

* 删除用户

  * 基本语法

    `userdel 用户名`

  * 细节说明

    直接使用`userdel 用户名`保存了家目录

    使用`userdel -r 用户名`删除家目录【慎用】

    一般情况下建议保留

* 查询用户信息

  * 基本语法

    `id 用户名`

  * 使用细节

    当用户不存在时，返回无此用户

    `id: temp: no such user`

* 切换用户

  * 介绍

    在操作Linux中，如果当前用户权限不够，可以通过`su`指令，切换到高权限用户

  * 基本语法

    `su 切换用户名`

  * 细节说明

    从高权限用户切换到低权限用户不需要输入密码

    当返回原来的用户时，使用exit/logout指令

* 查看当前用户信息

  * 基本语法

    `whoami/who am i`

## 用户组

* 介绍

  类似于角色，系统可以对有共性的多个角色进行统一管理

* 新增组

  指令：`groupadd 组名`

* 删除组

  指令：`groupdel 组名`

* 增加用户时直接加上组

  指令：`useradd -g 用户组 用户名`

* 修改用户的组

  指令：`usermod -g 用户组 用户名`

## 用户与组相关文件

* /etc/passwd

  用户（user）的配置文件，记录用户的各种信息

  **每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录shell**

* /etc/shadow

  口令的配置文件

  **每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志**

* /etc/group

  组的配置文件，记录组的信息

  **每行的含义：组名:口令:组标识号:组内用户列表**

## 运行级别

运行级别说明——

0：关机

1：单用户【找回丢失密码】

2：多用户状态没有网络服务

3：多用户状态有网络服务

4：系统未使用保留给用户

5：图形界面

6：系统重启

常用的运行级别时3和5，也可以指定默认运行级别

`init 级别` 来切换运行级别

**设置默认级别**

* CentOS7之前在/etc/inittab文件中设置

* CentOS7以后进行简化

  `multi-user.target: analogous to runlevel3`

  `graphical.target: analogous to runlevel5`

  显示当前级别

  `systemctl get-default`

  设置默认运行级别

  `systemctl set-default TARGET.target`

## 找回root密码

1. 重启时，输入e进入编辑界面
2. 进入编辑界面，使用键盘上下将光标向下移动，找到以”Linux16“开头的内容所在行数，在行的最后面输入：`init=/bin/sh`
3. 按快捷键`Ctrl+x`进入单用户模式’
4. 输入`mount -o remount,rw /`完成后按下回车
5. 在新的一行输入`passwd`,再按下回车，输入密码，然后再次确认密码即可
6. 输入`touch / .autorelabel `

7. 输入`exec /sbin/init`

## 帮助指令

* man 获取帮助信息

  基本语法：`man [命令或配置文件] (功能描述：获取帮助信息)`

* help指令

  基本语法：`help 命令 (功能描述：获取shell内置命令的帮助信息)`

## 文件目录指令

* pwd指令

  基本语法：`pwd`

  功能描述：显示当前工作目录的绝对路径

* ls指令

  基本语法：`ls [选项] [目录或是文件]`

  常用选项：

  ​	-a：显示当前目录所有的文件和目录，包括隐藏的

  ​	-l：以列表的方式显示信息

* cd指令

  基本用法：`cd [参数]`

  功能描述：切换到指定目录

  `cd ~ | cd`：回到自己的家目录

  `cd ..`：回到当前目录的上一级目录

* mkdir指令

  基本语法：`mkdir [选项] 要创建的目录`

  功能描述：创建目录

  常用选项：

  ​	-p：创建多级目录

* rmdir指令

  基本语法：`rmdir [选项] 要删除的空目录`

  功能描述：删除空目录

  使用细节：

  rmdir删除的时空目录，如果目录下有内容时将无法删除的

  如果需要删除非空目录，需要使用`rm -rf 要删除的目录`

* touch指令

  基本语法：`touch 文件名称`

  功能描述：创建空文件

* cp指令

  基本语法：`cp [选项] source dest`

  功能描述：拷贝文件到指定目录

  常用选项：

  ​	-r：递归复制整个文件夹

  使用细节：

  强制覆盖不提示使用`\cp` ex:`\cp -r /home/bbb /opt`

* rm指令

  基本语法：`rm [选项] 要删除的文件或目录`

  功能描述：移除文件或目录

  常用选项：

  ​	-r：递归删除整个文件夹

  ​	-f：强制删除不提示